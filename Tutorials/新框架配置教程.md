# 南工骁鹰电控代码配置教程

注：以下教程均适用于`windows`系统，若有使用`macOS`或者`Linux`的同学可以自行询问电控组长配置方法

编辑时间：`2022.4.26`

作者：李鸣航

## 一、环境配置

### 1. markdown

#### 1.1 下载markdown编辑器

`markdown`是一种被广泛运用的排版语言，可以很高效的写出简洁明了的文档，用`markdown`写成的文件后缀名为`.md`

我们广泛使用的markdown编辑器为`typora`，但`typora`自从`1.0`版本之后开始变为了收费软件，虽然但是，网上仍然有免费版或者收费版的破解版，请大家自行搜索下载，在此不再赘叙。如果仍然没有找到，请阅读后面的`vscode`章节，跟随本教程安装`vscode`中的`markdown`插件，也可以做到勉强能看的效果

#### 1.2 使用markdown

参考网址：`https://markdown.com.cn`，界面如下：

![image-20220426115445151](pic/image-20220426115445151.png)

右上角提供了入门知识，速查表，基本语法，扩展语法，工具等，甚至还有在线`markdown`编辑器供你调试你的文档

### 2. git

#### 2.1 下载git

打开网址`https://git-scm.com/download/win`，界面如下：

![image-20220426101008057](pic/image-20220426101008057.png)

点击`Click here to download`，下载最新版`git`

之后点击下载好的`exe`可执行文件，一路点`next`，直到安装结束即可

#### 2.2 配置git

首先点开`git-bash.exe`这个可执行文件，如果在上一小节中安装`git`是在默认的路径，那么`git-bash.exe`应该存放于`C:\Program Files\Git`这个文件夹里面，如下图：

![image-20220426102548404](pic/image-20220426102548404.png)

双击`git-bash.exe`，弹出如下界面：

![image-20220426103045597](pic/image-20220426103045597.png)

输入

`git config --global user.name "xxxx" `

这里的`“xxxx”`替换为你自己的用户名，如：

![image-20220426104007147](pic/image-20220426104007147.png)

然后再输入

`git config --global user.email test@email.com`

这里的`test@email.com`替换为自己的邮箱，如：

![image-20220426104451565](pic/image-20220426104451565.png)

最后使用命令

`git config --list`

查看配置信息

![image-20220426104549595](pic/image-20220426104549595.png)

看到这两行，即配置完成

### 3. JAVA

打开网址`https://www.oracle.com/java/technologies/downloads`，有如下界面：

![image-20220426111514937](pic/image-20220426111514937.png)

往下翻界面，选择`Java 18`，选择`Windows`（尽量选择最新版，即如果将来有人看到这个配置教程时有`Java 19`，可以选择），界面如下：

![image-20220426111704489](pic/image-20220426111704489.png)

点击`X64 Installer`后面`Download`的网址，等待下载完成，之后点击下载好的`exe`可执行文件，界面如下：

![image-20220426111917361](pic/image-20220426111917361.png)

一路点击下一步即可，将`Java`安装在默认路径就可以，之后就完成安装

### 4. STM32CubeMX

#### 4.1 下载STM32CubeMX

打开网址`https://www.st.com/zh/development-tools/stm32cubemx.html`，有如下界面：

![image-20220426112222728](pic/image-20220426112222728.png)

点击获取软件

![image-20220426112247133](pic/image-20220426112247133.png)

选择最下面那个`Win`结尾的文件，然后点击`Get latest`，下载最新版本的`Cube`，在弹出的许可协议中拉到底，选择接受

![image-20220426112353905](pic/image-20220426112353905.png)

之后会有一个需要输入信息的弹窗，如下界面。姓和名都可以不填，但邮箱必须要填，且最好填你的`QQ`邮箱，因为下载连接会发到你的邮箱里

![QQ图片20220426113101](pic/QQ图片20220426113101.png)

填完之后点击下载，会有一个下载邮件发到你的邮箱里，打开邮箱，下载邮件如下：

![QQ图片20220426113105](pic/QQ图片20220426113105.png)

点击`Download now`，即可开始下载（注：提交邮箱所用的浏览器必须和打开下载链接所用的浏览器为一个浏览器，不然会报错然后无法下载！！！！）

下载之后，解压下载好的`zip`文件，之后点击里面的`exe`可执行文件，界面如下：

![image-20220426113841517](pic/image-20220426113841517.png)

打开之后，一路点`next`，需要勾选的可以全部勾选

安装成功后，打开`CubeMX`，如下界面，即可

![image-20220426205224799](pic/image-20220426205224799.png)

#### 4.2 配置STM32CubeMX

![image-20220426205324383](pic/image-20220426205324383.png)

点击主界面里面的`Help`选项，选择`Manage embedded software pachages`，如下界面：

![image-20220426205441375](pic/image-20220426205441375.png)

电控组使用的开发板内核暂时为`F4`系列，所以我们下滑菜单，点开`STM32F4`选项，点击第一项（最新版本即可），再点击下方的`Install`选项，开始下载

![image-20220426205709952](pic/image-20220426205709952.png)

下载完成后，点击上方任务栏更改界面，切换到ARM选项

![image-20220426211202841](pic/image-20220426211202841.png)

选择`CMSIS`选项，点击`Install`，完成下载

### 5. gcc-arm-none-eabi

`gcc-arm-none-eabi`是我们用来编译电控代码的编译器

#### 5.1 下载

打开网址：`https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads`，界面如下：

![image-20220426211544124](pic/image-20220426211544124.png)

点击黄色的按钮`Arm GNU Toolchain`，进入界面：

![image-20220426211718237](pic/image-20220426211718237.png)

然后向下翻，至如下界面：

![image-20220426211826733](pic/image-20220426211826733.png)

点击`exe`结尾的文件，即可开始自动下载，下载完毕后，打开文件，如下：

![image-20220427105005791](pic/image-20220427105005791.png)

然后一路点击`OK`安装即可





### 6. gnu-mcu-eclipse-build-tools

`gnu`是我们的`make`工具

#### 6.1 下载



### 7. vscode

#### 7.1 下载vscode

打开网址`https://code.visualstudio.com`，界面如下：

![image-20220426105231074](pic/image-20220426105231074.png)

点击`Download for Windows`，下载`vscode`

下载完成后，点击`exe`可执行文件，一路点击下一步，就可安装好`vscode`，建议将vscode加入桌面快捷方式或者开始菜单

#### 7.2 配置vscode

首先是把`vscode`变成中文，我们要安装插件，扩展插件商店的位置如下：

![image-20220426110053143](pic/image-20220426110053143.png)

点击此处的`Extensions`，在搜索框中搜索：`chinese`，界面如下：

![image-20220426110153989](pic/image-20220426110153989.png)

选择第一个，点`install`，安装成功后，右下角会提示你重启`vscode`插件才会生效

![image-20220426110350431](pic/image-20220426110350431.png)

点击右下角的`Restart`，重启`vscode`之后就会发现，界面变成了中文，如下：

![image-20220426110447791](pic/image-20220426110447791.png)

如果想要配置一些比较好玩的插件，比如更改图标文件，更改括号颜色之类的，可以参照以下网址的配置教程：

`https://zhuanlan.zhihu.com/p/113222681`

其中的插件不强制要求安装，可以按照个人喜好安装

新框架需要用到的插件如下：

-   `C/C++`

在扩展商店里搜索`C`，有以下界面：

![image-20220426110931066](pic/image-20220426110931066.png)

前三个插件要全部安装

-   `ARM`

在扩展商店中搜索`ARM`，有如下界面：

![image-20220426111050990](pic/image-20220426111050990.png)

安装第一个即可

-   `Makefile Tools`

在扩展商店中搜索`Makefile Tools`，有如下结果：

![image-20220426111210948](pic/image-20220426111210948.png)

安装第一个即可，`Cmake Tools`是我个人用到的，电控代码配置暂且用不到

选装：`Markdown All in One`，可以让你在`vscode`中查看`markdown`代码并实时预览

![image-20220426212202045](pic/image-20220426212202045.png)





